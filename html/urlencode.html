<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>URL编码</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/blog.css">
</head>
<body>
    <div class="blog-masthead">
        <div class="container">
            <nav class="blog-nav">
                <a class="blog-nav-item" href="../index.html">站点首页</a>                <div class="deg"> 
                    <svg t="1668591119963" class="icon" onclick="dark()"  id="dark" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2424" width="16" height="16"><path d="M593.054 120.217C483.656 148.739 402.91 248.212 402.91 366.546c0 140.582 113.962 254.544 254.544 254.544 118.334 0 217.808-80.746 246.328-190.144C909.17 457.12 912 484.23 912 512c0 220.914-179.086 400-400 400S112 732.914 112 512s179.086-400 400-400c27.77 0 54.88 2.83 81.054 8.217z" fill="#000000" fill-opacity=".65" p-id="2425"></path></svg>
                </div>
            </nav>
        </div>
    </div>

    <div class="container">
        <h3 class="box3-h3">URL编码</h3>
        <form>
            <textarea class="form-control" rows="6" placeholder="请输入内容" autofocus="" id="input"></textarea>
            <p style="margin-top: 10px;">
                <button type="button" class="btn btn-primary"onclick="qen()">全编码</button>
                <button type="button" class="btn btn-primary"onclick="sen()">键解码</button>
                <button type="button" class="btn btn-primary"onclick="url_encode()()">encodeURL</button>
                <button type="button" class="btn btn-primary"onclick="url_decode()()">decodeURL</button>
                <a class="btn btn-success copy-txt-btn" href="javascript:copy();">复制</a>
                <button class="btn btn-default" onclick="empty()">清空</button>
            </p>
            <textarea class="form-control copy-txt" rows="6" id="output"></textarea>
        </form>


    </div>

  <div style="clear: both;"></div>


    <script src="../js/jquery-1.9.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/scrolltopcontrol.js"></script>
    <script src="../js/clipboard.min.js"></script>
    <script>
        function men(str) {
            //'=':'%3d',':':'%3a',';':'%3b','<':'%3c','>':'%3e','/':'%2f','.':'%2e','!':'%21','"':'%22','$':'%23','#':'%24','%':'%25','&':'%26',"'":'%27','(':'%28',')':'%29','*':'%2a','+':'%2b',',':'%2c','-':'%2d','\b':'8%','\t':'9&','\n':'%0a','\r':'%2d'
            var m = { 'a': '%61', 'b': '%62', 'c': '%63', 'd': '%64', 'e': '%65', 'f': '%66', 'g': '%67', 'h': '%68', 'i': '%69', 'j': '%6a', 'k': '%6b', 'l': '%6c', 'm': '%6d', 'n': '%6e', 'o': '%6f', 'p': '%70', 'q': '%71', 'r': '%72', 's': '%73', 't': '%74', 'u': '%75', 'v': '%76', 'w': '%77', 'x': '%78', 'y': '%79', 'z': '%7a', 'A': '%41', 'B': '%42', 'C': '%43', 'D': '%44', 'E': '%45', 'F': '%46', 'G': '%47', 'H': '%48', 'I': '%49', 'J': '%4a', 'K': '%4b', 'L': '%4c', 'M': '%4d', 'N': '%4e', 'O': '%4f', 'P': '%50', 'Q': '%51', 'R': '%52', 'S': '%53', 'T': '%54', 'U': '%55', 'V': '%56', 'W': '%57', 'X': '%58', 'Y': '%59', 'Z': '%5a', '0': '%30', '1': '%31', '2': '%32', '3': '%33', '4': '%34', '5': '%35', '6': '%36', '7': '%37', '8': '%38', '9': '%39' }
            console.log(str)
            var s = '';
            for (let i = 0; i < str.length; i++) {
                console.log(str[i])
                
                s += m[str[i]]==undefined?encodeURI(str[i]): m[str[i]]
            }
            return s;
        } function qen() {
            document.getElementById('output').value = men(document.getElementById('input').value)
        }
        function sen() {
            var str = document.getElementById('input').value;
            var s = str.split('&'), q, w = '';
            console.log(s)
            if (s.length = 1) {
                console.log(1)
                q = str.split('=')
                w += men(q[0]) + '=' + men(q[1])
            } else {
                for (let i = 0; i < s.length; i++) {
                    q = s[i].split('=')
                    w += +men(q[0]) + '=' + men(q[1])
                }
            }
            document.getElementById('output').value = w;
        }
        function url_encode(){
            document.getElementById('output').value = encodeURIComponent(document.getElementById('input').value)
        }
        function url_decode() {
            document.getElementById('output').value = decodeURIComponent(document.getElementById('input').value);
        }
        function empty() {
            document.getElementById('output').value = '', document.getElementById('input').value = '';
        }
        function copy() {
            let word = document.getElementById('output');
            if (word.value.length != 0) {
                word.select();
                document.execCommand('Copy');
            }
        }
    </script>
