<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Rabbit</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/blog.css">
    <!--  -->
</head>

<body>

    <div class="container">
        <h3 class="box3-h3">Rabbit</h3>
        <form>
            <textarea class="form-control" rows="6" placeholder="请输入内容" autofocus=""
                id="clear"></textarea>
            <p style="margin: 10px 0px; display: inline-block;">
                <span id='key_bytes'>Key</span>
                <input type="text" id="key" style="outline: none;" value="zhgerXHBVaaKm8xy">
                <button type="button" class="btn btn-primary" onclick="des_encrypt()">加密</button>
                <button type="button" class="btn btn-primary" onclick="des_decrypt()">解密</button>
                <a class="btn btn-success copy-txt-btn" href="javascript:copy();">复制</a>
                <button class="btn btn-default" onclick="empty()">清空</button>
            </p>
            <textarea class="form-control copy-txt" rows="6" id="cipher"></textarea>

        </form>
    </div>
    <div style="clear: both;"></div>


    </script>
    <script src="../js/jquery-1.9.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/scrolltopcontrol.js"></script>
    <script src="../js/clipboard.min.js"></script>
    <script src="../js/crypto-js.js"></script>
    <script>
        document.getElementById('key').onmouseover = function () {
            let key = document.getElementById('key')
            key.title = key.value.length
        }
        function empty() {
            document.getElementById('clear').value = '',
                document.getElementById('cipher').value = '',
                document.getElementById('key').value = '',
                document.getElementById('iv').value = '';
        }
        function encrypt() {
            var clear = document.getElementById('clear').value;
            var key = document.getElementById('key').value;
            document.getElementById('cipher').value = CryptoJS.Rabbit.encrypt(clear, key).toString();
        }

        function decrypt() {
            var cipher = document.getElementById('clear').value;
            var key = document.getElementById('key').value;
            document.getElementById('cipher').value = CryptoJS.Rabbit.decrypt(cipher, key).toString(CryptoJS.enc.Utf8);
        }
        function copy() {
            let word = document.getElementById('cipher');
            if (word.value.length != 0) {
                word.select();
                document.execCommand('Copy');
            }
        }
    </script>